<ion-header [translucent]="true" class="header-details">
  <ion-toolbar class="toolbar-details">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home.page"></ion-back-button>
    </ion-buttons>
    <ion-title class="title-details">DETALLE</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen="true" class="content-details ion-padding">

  <ion-card class="poster-card">
    <img
      [src]="detailsMovie?.poster_path ? 'https://image.tmdb.org/t/p/w500' + detailsMovie.poster_path : 'assets/img/default.jpg'"
      alt="Póster de la película"
      class="poster-img">
  </ion-card>

  <ion-card class="details-card">
    <ion-card-content>
      <ion-button expand="block" color="warning">
        <ion-icon slot="start" name="play-outline"></ion-icon> Reproducir
      </ion-button>
      <ion-button expand="block" fill="outline" color="medium">
        <ion-icon slot="start" name="download-outline"></ion-icon> Descargar
      </ion-button>
    </ion-card-content>
  </ion-card>

  <ion-card class="details-card">
    <ion-card-header>
      <ion-card-title class="title-details">{{ detailsMovie.title }}</ion-card-title>
      <ion-card-subtitle class="subtitle-details">{{ detailsMovie.release_date | date: 'longDate' }}</ion-card-subtitle>
    </ion-card-header>

    <ion-card-content>
      <p class="overview-details">{{ detailsMovie.overview || 'Sin descripción disponible.' }}</p>

      <ion-list>
        <ion-item class="info-item">
          <ion-icon slot="start" name="cash-outline"></ion-icon>
          <ion-label><strong>Presupuesto:</strong> {{ detailsMovie.budget | currency }}</ion-label>
        </ion-item>
        <ion-item class="info-item">
          <ion-icon slot="start" name="wallet-outline"></ion-icon>
          <ion-label><strong>Ganancias:</strong> {{ detailsMovie.revenue | currency }}</ion-label>
        </ion-item>
        <ion-item class="info-item">
          <ion-icon slot="start" name="time-outline"></ion-icon>
          <ion-label><strong>Duración:</strong> {{ detailsMovie.runtime }} min</ion-label>
        </ion-item>
        <ion-item class="info-item">
          <ion-icon slot="start" name="star-outline"></ion-icon>
          <ion-label><strong>Rating:</strong> {{ detailsMovie.vote_average }} / 10</ion-label>
        </ion-item>
        <ion-item class="info-item" *ngIf="detailsMovie?.homepage">
          <ion-icon slot="start" name="link-outline"></ion-icon>
          <ion-label>
            <strong>Homepage:</strong>
            <a [href]="detailsMovie.homepage" target="_blank" class="link-details">{{ detailsMovie.homepage }}</a>
          </ion-label>
        </ion-item>
      </ion-list>

      <ion-chip color="warning" *ngFor="let lang of detailsMovie.spoken_languages">
        <ion-label>{{ lang.name }}</ion-label>
      </ion-chip>

      <ion-chip color="medium" *ngFor="let genre of detailsMovie.genres">
        <ion-label>{{ genre.name }}</ion-label>
      </ion-chip>
    </ion-card-content>
  </ion-card>

  <ion-button expand="full" fill="outline" class="btn-comment">
    <ion-icon slot="start" name="add-outline"></ion-icon>
    Add Comentario
  </ion-button>

  <ion-item class="comment-item">
    <ion-label class="comment-label">Comentario</ion-label>
    <ion-input type="text" class="comment-input"></ion-input>
    <ion-icon name="send-outline" color="warning"></ion-icon>
  </ion-item>

</ion-content>
